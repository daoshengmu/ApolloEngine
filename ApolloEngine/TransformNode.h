
#pragma once

#include "core/core.h"

namespace Apollo
{
class TransformNode
{
public:
	//--------------------------------------------------------------------------------------
	/// @brief Constructor
	//--------------------------------------------------------------------------------------
	TransformNode();

	//--------------------------------------------------------------------------------------
	/// @brief Get world matrix	
	/// 
	/// @return World matrix
	//--------------------------------------------------------------------------------------
	const Matrix4x4f* GetWorldMatrix() const;

	//--------------------------------------------------------------------------------------
	/// @brief Get world matrix	
	/// 
	/// @return World matrix
	//--------------------------------------------------------------------------------------
	Matrix4x4f*		  GetWorldMatrix();

	//--------------------------------------------------------------------------------------
	/// @brief Get up vector
	/// 
	/// @param [out] vec Up vector
	//--------------------------------------------------------------------------------------
	void			  GetUpVector( Vector3f& vec );
	
	//--------------------------------------------------------------------------------------
	/// @brief Get right vector
	/// 
	/// @param [out] vec right vector
	//--------------------------------------------------------------------------------------
	void			  GetRightVector( Vector3f& vec );
	
	//--------------------------------------------------------------------------------------
	/// @brief Get look vector
	/// 
	/// @param [out] vec look vector
	//--------------------------------------------------------------------------------------
	void			  GetLookVector( Vector3f& vec );

	//--------------------------------------------------------------------------------------
	/// @brief Get rotate matrix
	/// 
	/// @return Rotate matrix
	//--------------------------------------------------------------------------------------
	const Matrix4x4f* GetRotateMatrix();

	//--------------------------------------------------------------------------------------
	/// @brief Get look vector
	/// 
	/// @param [in] matrix World matrix
	//--------------------------------------------------------------------------------------
	void			  SetWorldMatrix( const Matrix4x4f &matrix );
	
	//--------------------------------------------------------------------------------------
	/// @brief Get origin
	/// 
	/// @return Origin
	//--------------------------------------------------------------------------------------
	const Vector3f*   GetOrigin();
	
	//--------------------------------------------------------------------------------------
	/// @brief Set origin
	/// 
	/// @param [in] origin Origin
	//--------------------------------------------------------------------------------------
	void			  SetOrigin( const Vector3f& origin );

	//--------------------------------------------------------------------------------------
	/// @brief Set scale
	/// 
	/// @param [in] scale Scale vector
	//--------------------------------------------------------------------------------------
	void			  SetScale( const Vector3f& scale );
	
	//--------------------------------------------------------------------------------------
	/// @brief Update matrix
	//--------------------------------------------------------------------------------------
	void			  UpdateMatrix();
	
	//--------------------------------------------------------------------------------------
	/// @brief Set yaw delta angle
	/// 
	/// @param [in] angle Delta angle
	//--------------------------------------------------------------------------------------
	void			  SetYawDeltaAngle( float angle );

	//--------------------------------------------------------------------------------------
	/// @brief Set pitch delta angle
	/// 
	/// @param [in] angle Delta angle
	//--------------------------------------------------------------------------------------
	void			  SetPitchDeltaAngle( float angle );

	//--------------------------------------------------------------------------------------
	/// @brief Set rotate around axis
	/// 
	/// @param [in] axis Follow axis
	///
	/// @param [in] angle Rotate angle
	//--------------------------------------------------------------------------------------
	void			  RotateAroundAxis( const Vector3f& axis, float angle );

private:
	

private:
	static Quaternionf _tempQuaternion;
	static Matrix4x4f _tempMatrix;
	static Vector3f _tempVector;

	Vector3f _scaleVector;
	Vector3f _origin;
	Matrix4x4f _rotateMatrix;
	Matrix4x4f _worldMatrix;
	Quaternionf _quaternion;
};

}